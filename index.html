<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Hephos AI Assistant ‚Äî Ultra Premium</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="logo.png"/>
  <style>
    :root{
      --light-gray:#f2f3f5; --light-gray-2:#e6e7ea;
      --emerald:#023020; --emerald-2:#024e37;
      --lgold:#EADFB7; --lgold-2:#D9C68C;
      --stroke:rgba(233,220,183,.30);
      --text-dark:#222; --text-muted:#666;
      --ai-bg:#444444; /* tra≈æena siva za AI mjehuriƒá */
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    body{
      font:16px/1.6 Inter,system-ui,"Segoe UI",Roboto,sans-serif;
      background: radial-gradient(900px 600px at -20% -10%, rgba(234,223,183,.12), transparent 60%),
                  linear-gradient(180deg,var(--light-gray),var(--light-gray-2));
      color:var(--text-dark);
      display:flex; flex-direction:column; align-items:center; min-height:100vh;
    }

    .nav{
      position:sticky; top:0; width:100%; z-index:10;
      display:flex; align-items:center; justify-content:center; gap:12px;
      padding:12px 18px;
      background:rgba(255,255,255,.8); backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(234,223,183,.35);
      box-shadow:0 4px 20px rgba(0,0,0,.08);
    }
    .nav-left{position:absolute; left:18px; display:flex; align-items:center; gap:10px; color:var(--lgold); font-weight:800; letter-spacing:.3px}
    .logo{height:30px; filter: sepia(1) saturate(2.2) hue-rotate(5deg) brightness(1.05) drop-shadow(0 0 10px rgba(234,223,183,.45));}
    .tag{padding:4px 10px; border-radius:999px; font-size:12px; color:#111; background:linear-gradient(135deg,var(--lgold),#f5edd0); border:1px solid rgba(255,255,255,.15); box-shadow:0 6px 18px rgba(234,223,183,.25)}

    .container{max-width:950px; width:100%; margin:26px auto; padding:0 16px; display:flex; flex-direction:column; gap:18px}
    .hero{padding:18px 20px; border-radius:16px; background:linear-gradient(135deg,rgba(255,255,255,.7),rgba(234,223,183,.25)); border:1px solid rgba(234,223,183,.4); box-shadow:0 10px 22px rgba(0,0,0,.08); display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px}
    .hero h1{margin:0; font-weight:900; color:#0e0e0f}
    .hero p{margin:4px 0 0; color:var(--text-muted); font-size:14px}
    .chip{padding:8px 12px; border-radius:999px; font-size:13px; border:1px solid rgba(234,223,183,.35); background:rgba(255,255,255,.7); color:#333; margin-left:8px}

    .card{
      height:72vh; border-radius:22px; overflow:hidden; position:relative;
      background: linear-gradient(180deg,#ffffff 0%, #fff8e7 45%, #f3e7c1 100%);
      border:2px solid var(--stroke); box-shadow:0 28px 60px rgba(0,0,0,.15);
      display:flex; flex-direction:column; color:#111;
    }
    .card::before{content:""; position:absolute; inset:0; pointer-events:none; background:url('logo.png') center/240px no-repeat; opacity:.05; filter:grayscale(100%) brightness(240%)}

    .card-head{padding:12px 16px; display:flex; justify-content:space-between; align-items:center; background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.7)); border-bottom:1px solid rgba(0,0,0,.06)}
    .status{display:flex; align-items:center; gap:8px; color:#333; font-size:13px}
    .dot{width:8px; height:8px; border-radius:50%; background:#43d38d; box-shadow:0 0 10px #43d38d}

    .msgs{flex:1; padding:18px; display:flex; flex-direction:column; gap:12px; overflow:auto}

    .msg{
      position:relative; /* zbog pozicioniranja ikone iznad */
      padding:12px 18px; max-width:78%; border-radius:14px; font-size:15px; line-height:1.5;
      word-wrap:break-word; box-shadow:0 2px 8px rgba(0,0,0,.08); animation:fade .2s ease
    }
    .ai{
      align-self:flex-start; background:var(--ai-bg); color:#f2f2f2;
      border:1px solid rgba(234,223,183,.22);
      padding-right: 28px; /* malo mjesta desno za ikonu na malim ekranima */
    }
    .me{align-self:flex-end; background:var(--emerald-2); color:#fff; border:1px solid rgba(234,223,183,.32)}

    /* mala outline copy ikona, lebdi IZNAD desnog kuta */
    .copy-btn{
      position:absolute; top:-10px; right:-10px; width:24px; height:24px;
      border:none; background:transparent; display:flex; align-items:center; justify-content:center;
      cursor:pointer; opacity:.9; transition:opacity .15s, transform .15s;
      transform:translate(0,0);
    }
    .copy-btn:hover{opacity:1; transform:translate(-1px,-1px)}
    .copy-btn svg{width:20px; height:20px; fill:none; stroke:var(--lgold-2); stroke-width:2; stroke-linecap:round; stroke-linejoin:round}
    .copy-btn.check svg{stroke:#7bd389} /* kvaƒçica boja */

    /* tipkanje ‚Äì SAMO rotirajuƒái logo */
    .typing-spin{height:18px; width:auto; animation:spin 1.2s linear infinite; filter:drop-shadow(0 0 6px rgba(234,223,183,.45))}
    @keyframes spin{to{transform:rotate(360deg)}}

    .card-foot{padding:12px; display:flex; gap:10px; background:linear-gradient(0deg, rgba(255,255,255,.9), rgba(255,255,255,.7)); border-top:1px solid rgba(0,0,0,.06)}
    input{flex:1; padding:14px; border-radius:12px; border:1px solid rgba(0,0,0,.12); background:rgba(255,255,255,.9); color:#111; outline:none}
    input:focus{border-color:var(--lgold-2); box-shadow:0 0 8px rgba(233,220,183,.6)}
    button{position:relative; padding:14px 20px; border-radius:12px; border:0; cursor:pointer; color:#111; font-weight:800; letter-spacing:.2px; background:linear-gradient(135deg,var(--lgold),var(--lgold-2)); box-shadow: inset 0 1px 0 rgba(255,255,255,.65), inset 0 -2px 0 rgba(160,140,80,.55), 0 10px 22px rgba(233,220,183,.35); transition:transform .18s ease, box-shadow .18s ease}
    button:hover{ transform:translateY(-1px); box-shadow: inset 0 1px 0 rgba(255,255,255,.7), inset 0 -2px 0 rgba(160,140,80,.65), 0 14px 28px rgba(233,220,183,.45) }
    button:active{ transform:translateY(0) }

    .footnote{margin:14px auto 28px; text-align:center; color:#8a8a90; font-size:12px}

    .fiverr{position:fixed; right:16px; bottom:18px; z-index:30; display:flex; align-items:center; gap:10px; padding:12px 16px; border-radius:16px; text-decoration:none; color:#111; font-weight:900; letter-spacing:.2px; background:linear-gradient(135deg,var(--lgold),var(--lgold-2)); border:1px solid rgba(0,0,0,.08); box-shadow:0 12px 28px rgba(233,220,183,.35); transition:.18s ease}
    .fiverr:hover{ transform:translateY(-1px); box-shadow:0 16px 36px rgba(233,220,183,.45) }
    .fiverr svg{width:18px; height:18px; fill:#111}

    @keyframes fade{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
    @media(max-width:720px){ .container{margin:18px auto} .card{height:70vh; min-height:500px} .msg{max-width:88%} .fiverr{right:12px; bottom:12px; padding:10px 14px} }
  </style>
</head>
<body>
  <div class="nav">
    <div class="nav-left">
      <img src="logo.png" alt="Hephos AI logo" class="logo"/>
      <span>Hephos AI</span>
    </div>
    <span class="tag">Premium AI Chatbot</span>
  </div>

  <main class="container">
    <section class="hero">
      <div>
        <h1>Hephos AI Assistant</h1>
        <p>Light-gray outer ‚Ä¢ Light-gold accents ‚Ä¢ Emerald chat bubbles.</p>
      </div>
      <div>
        <span class="chip">GPT-4o-mini</span>
        <span class="chip">Multi-language</span>
        <span class="chip">API Integrations</span>
      </div>
    </section>

    <section class="card" role="region" aria-label="Chat window">
      <div class="card-head">
        <div class="status"><span class="dot"></span> Online ‚Ä¢ replies in seconds</div>
      </div>

      <div id="msgs" class="msgs">
        <div class="msg ai">üëã Welcome! I‚Äôm the Hephos AI Assistant. How can I help you today?</div>
      </div>

      <div class="card-foot">
        <input id="input" placeholder="Type your message‚Ä¶" autocomplete="off"/>
        <button id="send">Send</button>
      </div>
    </section>

    <div class="footnote">¬© Hephos AI ‚Äî Light-Gold accents #EADFB7 / #D9C68C</div>
  </main>

  <a class="fiverr" href="https://www.fiverr.com/" target="_blank" rel="noopener">
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 7V6a4 4 0 1 1 8 0v1h3a1 1 0 0 1 .99 1.141l-1.6 11.2A3 3 0 0 1 15.42 22H8.58a3 3 0 0 1-2.97-2.659L4.01 8.141A1 1 0 0 1 5 7h3Zm2 0h4V6a2 2 0 1 0-4 0v1Z"/></svg>
    Order on Fiverr
  </a>

  <script>
    const API_URL = 'https://hephos-ai-chatbot.onrender.com/chat'; // <-- stavi svoj Render URL

    const msgs = document.getElementById('msgs');
    const inp  = document.getElementById('input');
    const btn  = document.getElementById('send');

    // outline ‚Äúcopy‚Äù ikona (dvije preklopljene kocke) i kvaƒçica
    const ICON_COPY = '<svg viewBox="0 0 24 24"><rect x="9" y="9" width="10" height="10" rx="2"/><rect x="5" y="5" width="10" height="10" rx="2"/></svg>';
    const ICON_CHECK = '<svg viewBox="0 0 24 24"><path d="M20 7 10 17l-6-6" fill="none" stroke-width="2"/></svg>';

    function escapeHtml(s){return s.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));}

    function addCopyButton(div){
      const btn = document.createElement('button');
      btn.className = 'copy-btn';
      btn.innerHTML = ICON_COPY;
      btn.title = "Copy";
      btn.addEventListener('click',()=>{
        const txt = div.textContent;
        navigator.clipboard.writeText(txt).then(()=>{
          btn.classList.add('check'); btn.innerHTML = ICON_CHECK;
          setTimeout(()=>{ btn.classList.remove('check'); btn.innerHTML = ICON_COPY; }, 1200);
        });
      });
      div.appendChild(btn);
    }

    function addMsg(text, who='ai'){
      const div = document.createElement('div');
      div.className = `msg ${who}`;
      div.innerHTML = escapeHtml(text);
      msgs.appendChild(div);
      if(who === 'ai') addCopyButton(div);
      msgs.scrollTop = msgs.scrollHeight;
      return div;
    }

    // tipkanje: SAMO rotirajuƒái logo (bez boxa/teksta)
    function addTypingSpin(){
      const img = document.createElement('img');
      img.src = 'logo.png'; img.alt = 'typing'; img.className = 'typing-spin';
      const wrap = document.createElement('div');
      wrap.style.display = 'flex';
      wrap.style.alignItems = 'center';
      wrap.appendChild(img);
      msgs.appendChild(wrap);
      msgs.scrollTop = msgs.scrollHeight;
      return wrap;
    }

    async function sendMessage(){
      const text = inp.value.trim();
      if(!text) return;
      addMsg(text,'me');
      inp.value = '';

      const typing = addTypingSpin();
      try{
        const r = await fetch(API_URL, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ message: text })
        });
        const data = await r.json();
        typing.remove();
        addMsg(data.response || data.error || 'No response','ai');
      }catch(e){
        typing.remove();
        addMsg('‚ö†Ô∏è Connection error. Please try again.','ai');
      }
      msgs.scrollTop = msgs.scrollHeight;
    }

    btn.addEventListener('click', sendMessage);
    inp.addEventListener('keydown', e => { if(e.key === 'Enter'){ e.preventDefault(); sendMessage(); }});
  </script>
</body>
</html>
